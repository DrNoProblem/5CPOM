{"ast":null,"code":"var _jsxFileName = \"D:\\\\SUPINFO\\\\5CPOM\\\\front-service\\\\src\\\\pages\\\\1PROJ\\\\1P-index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./style.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomePage1PROJ = _ref => {\n  _s();\n  let {\n    currentUser\n  } = _ref;\n  const [virtualBoard, setVirtualBoard] = useState([[{\n    p: 1,\n    d: [\"E\", \"ES\", \"S\"],\n    ab: \"bot-right\"\n  }, {\n    p: 0,\n    d: [\"E\", \"S\", \"W\"],\n    ab: \"bot-right\"\n  }, {\n    p: 0,\n    d: [\"E\", \"ES\", \"S\", \"SW\", \"W\"],\n    ab: \"\"\n  }, {\n    p: 0,\n    d: [\"E\", \"S\", \"W\"],\n    ab: \"bot-left\"\n  }, {\n    p: 0,\n    d: [\"S\", \"SW\", \"W\"],\n    ab: \"bot-left\"\n  }], [{\n    p: 0,\n    d: [\"N\", \"E\", \"S\"],\n    ab: \"bot-right\"\n  }, {\n    p: -1,\n    d: [\"N\", \"NE\", \"E\", \"ES\", \"S\", \"SW\", \"W\", \"WN\"],\n    ab: \"diag\"\n  }, {\n    p: 0,\n    d: [\"N\", \"E\", \"S\", \"W\"],\n    ab: \"cross\"\n  }, {\n    p: 0,\n    d: [\"N\", \"NE\", \"E\", \"ES\", \"S\", \"SW\", \"W\", \"WN\"],\n    ab: \"diag\"\n  }, {\n    p: 0,\n    d: [\"N\", \"S\", \"W\"],\n    ab: \"bot-left\"\n  }], [{\n    p: 0,\n    d: [\"N\", \"NE\", \"E\", \"ES\", \"S\"],\n    ab: \"\"\n  }, {\n    p: 0,\n    d: [\"N\", \"E\", \"S\", \"W\"],\n    ab: \"cross\"\n  }, {\n    p: 1,\n    d: [\"N\", \"NE\", \"E\", \"ES\", \"S\", \"SW\", \"W\", \"WN\"],\n    ab: \"\"\n  }, {\n    p: 0,\n    d: [\"N\", \"E\", \"S\", \"W\"],\n    ab: \"cross\"\n  }, {\n    p: 0,\n    d: [\"N\", \"S\", \"SW\", \"W\", \"WN\"],\n    ab: \"\"\n  }], [{\n    p: 0,\n    d: [\"N\", \"E\", \"S\"],\n    ab: \"top-right\"\n  }, {\n    p: 0,\n    d: [\"N\", \"NE\", \"E\", \"ES\", \"S\", \"SW\", \"W\", \"WN\"],\n    ab: \"diag\"\n  }, {\n    p: 0,\n    d: [\"N\", \"E\", \"S\", \"W\"],\n    ab: \"cross\"\n  }, {\n    p: 0,\n    d: [\"N\", \"NE\", \"E\", \"ES\", \"S\", \"SW\", \"W\", \"WN\"],\n    ab: \"diag\"\n  }, {\n    p: 0,\n    d: [\"N\", \"S\", \"W\"],\n    ab: \"top-left\"\n  }], [{\n    p: 0,\n    d: [\"N\", \"NE\", \"E\"],\n    ab: \"top-right\"\n  }, {\n    p: 0,\n    d: [\"N\", \"E\", \"W\"],\n    ab: \"top-right\"\n  }, {\n    p: 0,\n    d: [\"N\", \"NE\", \"E\", \"W\", \"WN\"],\n    ab: \"\"\n  }, {\n    p: 0,\n    d: [\"N\", \"E\", \"W\"],\n    ab: \"top-left\"\n  }, {\n    p: 0,\n    d: [\"N\", \"W\", \"WN\"],\n    ab: \"top-left\"\n  }]]);\n  const [P1score, setP1score] = useState(0);\n  const [P2score, setP2score] = useState(0);\n  const [MenuOpen, setMenuOpen] = useState(true);\n  const [PlayerTurn, setPlayerTurn] = useState(0);\n  const InitGame = () => {\n    setMenuOpen(false);\n    setPlayerTurn(-1);\n  };\n  const NextTurn = () => {\n    setPlayerTurn(PlayerTurn * -1);\n  };\n  const getListDirectionSelectedPawn = Pawn => {\n    const PlaceDirection = virtualBoard[Pawn.y][Pawn.x].d;\n    if (Pawn.player === -1) return PlaceDirection.filter(direction => !direction.includes(\"S\"));else if (Pawn.player === 1) return PlaceDirection.filter(direction => !direction.includes(\"N\"));\n    return PlaceDirection;\n  };\n\n  /* \r\n  !plan \r\n    pion deja selectionné ? \r\n    non -> \r\n    case click contient un pion ? \r\n    non -> stop\r\n      case click contient un pion du joueur ? \r\n    non -> stop\r\n      pion selectionné peut se deplacer ou manger? \r\n    non -> stop\r\n      select pion + stop\r\n    oui -> \r\n    \r\n    case click contient un pion ?\r\n    oui -> stop\r\n      recuperer coordonnée possible du pion selectionné \r\n      coordonnée possible contient coordonnée case click ?\r\n    non -> unselect pion + stop\r\n    \r\n    deplacement et/ou manger\r\n      unselect pion\r\n      pion deplacé peut manger ?\r\n    oui -> select pion + stop\r\n    non -> end turn\r\n  \r\n  */\n\n  const clickPawn = element => {\n    // span pawn -> case\n    let spanPawn = element.target;\n    if (spanPawn.classList.contains(\"pawn\")) {\n      spanPawn = spanPawn.parentElement;\n    }\n    console.log(spanPawn);\n    // pion deja selectionné ?\n    if (PawnSelected) {\n      // case click contient un pion ?\n      if (spanPawn.children.length !== 0) {\n        // unselect pion\n        spanPawn.classList.remove(\"pawn-selected\");\n        setPawnSelected(false);\n        return false;\n      }\n\n      // recuperer coordonnée possible du pion selectionné\n      const possibleMove = checkPossibleMove(PawnSelected);\n      const possibleEat = checkPossibleEat(PawnSelected);\n      if (possibleMove.concat(possibleEat)) return false;\n      // coordonnée possible contient coordonnée case click ?\n\n      // deplacement et/ou manger\n\n      // unselect pion\n\n      // pion deplacé peut manger ?\n    } else {\n      // case click contient un pion ?\n      console.log(spanPawn.children.length === 0);\n      if (spanPawn.children.length === 0) return false;\n\n      // case click contient un pion du joueur ?\n      console.log(spanPawn.dataset[\"player\"] === PlayerTurn);\n      if (spanPawn.dataset[\"player\"] === PlayerTurn) return false;\n      const tempoPawn = {\n        x: parseInt(spanPawn.dataset[\"placementX\"]),\n        y: parseInt(spanPawn.dataset[\"placementY\"]),\n        player: parseInt(spanPawn.dataset[\"player\"])\n      };\n\n      // pion selectionné peut se deplacer ou manger?\n      const possibleMove = checkPossibleMove(tempoPawn);\n      console.log(possibleMove);\n      const possibleEat = checkPossibleEat(tempoPawn);\n      if (possibleMove.concat(possibleEat)) return false;\n\n      // select pion\n      spanPawn.classList.add(\"pawn-selected\");\n      setPawnSelected(tempoPawn);\n    }\n  };\n  const checkPossibleEat = Pawn => {\n    let EatPossbile = [];\n    if (virtualBoard[Pawn.y - 1][Pawn.x] && virtualBoard[Pawn.y - 1][Pawn.x].p === Pawn.player * -1) {\n      if (virtualBoard[Pawn.y - 1][Pawn.x].d.includes(\"N\")) {\n        if (virtualBoard[Pawn.y - 2][Pawn.x] && virtualBoard[Pawn.y - 2][Pawn.x].p === 0) {\n          EatPossbile.push(\"N\");\n        }\n      }\n    }\n    if (virtualBoard[Pawn.y - 1][Pawn.x + 1] && virtualBoard[Pawn.y - 1][Pawn.x + 1].p === Pawn.player * -1) {\n      if (virtualBoard[Pawn.y - 1][Pawn.x + 1].d.includes(\"NE\")) {\n        if (virtualBoard[Pawn.y - 2][Pawn.x + 2] && virtualBoard[Pawn.y - 2][Pawn.x + 2].p === 0) {\n          EatPossbile.push(\"NE\");\n        }\n      }\n    }\n    if (virtualBoard[Pawn.y][Pawn.x + 1] && virtualBoard[Pawn.y][Pawn.x + 1].p === Pawn.player * -1) {\n      if (virtualBoard[Pawn.y][Pawn.x + 1].d.includes(\"E\")) {\n        if (virtualBoard[Pawn.y][Pawn.x + 2] && virtualBoard[Pawn.y][Pawn.x + 2].p === 0) {\n          EatPossbile.push(\"E\");\n        }\n      }\n    }\n    if (virtualBoard[Pawn.y + 1][Pawn.x + 1] && virtualBoard[Pawn.y + 1][Pawn.x + 1].p === Pawn.player * -1) {\n      if (virtualBoard[Pawn.y + 1][Pawn.x + 1].d.includes(\"ES\")) {\n        if (virtualBoard[Pawn.y + 2][Pawn.x + 2] && virtualBoard[Pawn.y + 2][Pawn.x + 2].p === 0) {\n          EatPossbile.push(\"ES\");\n        }\n      }\n    }\n    if (virtualBoard[Pawn.y + 1][Pawn.x] && virtualBoard[Pawn.y + 1][Pawn.x].p === Pawn.player * -1) {\n      if (virtualBoard[Pawn.y + 1][Pawn.x].d.includes(\"S\")) {\n        if (virtualBoard[Pawn.y + 2][Pawn.x] && virtualBoard[Pawn.y + 2][Pawn.x].p === 0) {\n          EatPossbile.push(\"S\");\n        }\n      }\n    }\n    if (virtualBoard[Pawn.y + 1][Pawn.x - 1] && virtualBoard[Pawn.y + 1][Pawn.x - 1].p === Pawn.player * -1) {\n      if (virtualBoard[Pawn.y + 1][Pawn.x - 1].d.includes(\"SW\")) {\n        if (virtualBoard[Pawn.y + 2][Pawn.x - 2] && virtualBoard[Pawn.y + 2][Pawn.y - 2].p === 0) {\n          EatPossbile.push(\"SW\");\n        }\n      }\n    }\n    if (virtualBoard[Pawn.y][Pawn.x - 1] && virtualBoard[Pawn.y][Pawn.x - 1].p === Pawn.player * -1) {\n      if (virtualBoard[Pawn.y][Pawn.x - 1].d.includes(\"W\")) {\n        if (virtualBoard[Pawn.y][Pawn.x - 2] && virtualBoard[Pawn.y][Pawn.x - 2].p === 0) {\n          EatPossbile.push(\"W\");\n        }\n      }\n    }\n    if (virtualBoard[Pawn.y - 1][Pawn.x - 1] && virtualBoard[Pawn.y - 1][Pawn.x - 1].p === Pawn.player * -1) {\n      if (virtualBoard[Pawn.y - 1][Pawn.x - 1].d.includes(\"WN\")) {\n        if (virtualBoard[Pawn.y - 2][Pawn.x - 2] && virtualBoard[Pawn.y - 2][Pawn.x - 2].p === 0) {\n          EatPossbile.push(\"WN\");\n        }\n      }\n    }\n    return EatPossbile;\n  };\n  const checkPossibleMove = Pawn => {\n    let MovePossible = [];\n    let listDirection = getListDirectionSelectedPawn(Pawn);\n    if (listDirection && listDirection.length > 0) {\n      listDirection.forEach(element => {\n        switch (element) {\n          case \"N\":\n            if (virtualBoard[Pawn.y - 1][Pawn.x] && virtualBoard[Pawn.y - 1][Pawn.x].p === 0) {\n              MovePossible.push(element);\n            }\n            break;\n          case \"NE\":\n            if (virtualBoard[Pawn.y - 1][Pawn.x + 1] && virtualBoard[Pawn.y - 1][Pawn.x + 1].p === 0) {\n              MovePossible.push(element);\n            }\n            break;\n          case \"E\":\n            if (virtualBoard[Pawn.y][Pawn.x + 1] && virtualBoard[Pawn.y][Pawn.x + 1].p === 0) {\n              MovePossible.push(element);\n            }\n            break;\n          case \"ES\":\n            if (virtualBoard[Pawn.y + 1][Pawn.x + 1] && virtualBoard[Pawn.y + 1][Pawn.x + 1].p === 0) {\n              MovePossible.push(element);\n            }\n            break;\n          case \"S\":\n            if (virtualBoard[Pawn.y + 1][Pawn.x] && virtualBoard[Pawn.y + 1][Pawn.x].p === 0) {\n              MovePossible.push(element);\n            }\n            break;\n          case \"SW\":\n            if (virtualBoard[Pawn.y + 1][Pawn.x - 1] && virtualBoard[Pawn.y + 1][Pawn.y - 1].p === 0) {\n              MovePossible.push(element);\n            }\n            break;\n          case \"W\":\n            if (virtualBoard[Pawn.y][Pawn.x - 1] && virtualBoard[Pawn.y][Pawn.x - 1].p === 0) {\n              MovePossible.push(element);\n            }\n            break;\n          case \"WN\":\n            if (virtualBoard[Pawn.y - 1][Pawn.x - 1] && virtualBoard[Pawn.y - 1][Pawn.x - 1].p === 0) {\n              MovePossible.push(element);\n            }\n            break;\n        }\n      });\n    }\n    return MovePossible;\n  };\n  const checkValideMove = (place, target, possibleMove) => {\n    console.log(\"place\", place);\n    console.log(\"target\", target);\n    console.log(\"possibleMove\", possibleMove);\n  };\n  const checkCapturePossible = () => {\n    let finalMove = [];\n    return finalMove;\n  };\n  const [PawnSelected, setPawnSelected] = useState(false);\n  const PawnClick = element => {\n    let spanPawn = element.target;\n    if (spanPawn.classList.contains(\"pawn\")) {\n      spanPawn = spanPawn.parentElement;\n    }\n    if (spanPawn.dataset[\"player\"] == PlayerTurn) {\n      if (PawnSelected) {\n        if (spanPawn.classList.contains(\"pawn-selected\")) {\n          setPawnSelected(false);\n          spanPawn.classList.remove(\"pawn-selected\");\n        } else {\n          const PossibleMove = checkPossibleMove(PawnSelected);\n          const capturepossible = checkCapturePossible();\n          const placeX = parseInt(spanPawn.dataset[\"placementX\"]);\n          const placeY = parseInt(spanPawn.dataset[\"placementY\"]);\n          checkValideMove({\n            x: PawnSelected.x,\n            y: PawnSelected.y\n          }, {\n            x: placeX,\n            y: placeY\n          }, PossibleMove);\n        }\n      } else {\n        if (spanPawn.dataset[\"player\"] != 0) {\n          const player = parseInt(spanPawn.dataset[\"player\"]);\n          const placeX = parseInt(spanPawn.dataset[\"placementX\"]);\n          const placeY = parseInt(spanPawn.dataset[\"placementY\"]);\n          setPawnSelected({\n            x: placeX,\n            y: placeY,\n            player: player\n          });\n          spanPawn.classList.add(\"pawn-selected\");\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `main p20 flex-col relative flex-end-align g25`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-col g25 w100\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"m0\",\n        children: [\"Projects : 1PROJ\", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"material-icons ml25\",\n          onClick: () => setMenuOpen(true),\n          children: \"settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: `big-dark-container scores flex-center g50  playerTurn${PlayerTurn}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"blue\",\n          children: P1score\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"red\",\n          children: P2score\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `board-container flex-col flex-center g25 big-dark-container `,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `board playerTurn${PlayerTurn}`,\n          children: virtualBoard.map((e, ei) => e.map((f, fi) => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"setting-line \" + f.ab,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"case flex-center\",\n              \"data-placement-y\": ei,\n              \"data-placement-x\": fi,\n              \"data-player\": f.p,\n              onClick: e => clickPawn(e),\n              children: f.p !== 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                onClick: e => clickPawn(e),\n                className: `pawn flex-center ${f.p === 1 ? \"red-player\" : \"blue-player\"}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 23\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 19\n            }, this)\n          }, \"case-\" + ei + \"-\" + fi, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 17\n          }, this)))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this), MenuOpen ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-pop-up absolute zi5 flex-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"small-normal-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"m0 mb25 blue txt-center\",\n              children: \"Game Menu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-rox flex-between g25\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cta cta-blue\",\n                onClick: () => InitGame(),\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: PlayerTurn === 0 ? \"START\" : \"RESUME\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                className: \"cta cta-red\",\n                to: \"/\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"BACK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 424,\n    columnNumber: 5\n  }, this);\n};\n_s(HomePage1PROJ, \"2Y4rsyhW+Yo7TsN9v/jidHm/uZE=\");\n_c = HomePage1PROJ;\nexport default HomePage1PROJ;\nvar _c;\n$RefreshReg$(_c, \"HomePage1PROJ\");","map":{"version":3,"names":["React","useState","Link","jsxDEV","_jsxDEV","HomePage1PROJ","_ref","_s","currentUser","virtualBoard","setVirtualBoard","p","d","ab","P1score","setP1score","P2score","setP2score","MenuOpen","setMenuOpen","PlayerTurn","setPlayerTurn","InitGame","NextTurn","getListDirectionSelectedPawn","Pawn","PlaceDirection","y","x","player","filter","direction","includes","clickPawn","element","spanPawn","target","classList","contains","parentElement","console","log","PawnSelected","children","length","remove","setPawnSelected","possibleMove","checkPossibleMove","possibleEat","checkPossibleEat","concat","dataset","tempoPawn","parseInt","add","EatPossbile","push","MovePossible","listDirection","forEach","checkValideMove","place","checkCapturePossible","finalMove","PawnClick","PossibleMove","capturepossible","placeX","placeY","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","e","ei","f","fi","to","_c","$RefreshReg$"],"sources":["D:/SUPINFO/5CPOM/front-service/src/pages/1PROJ/1P-index.tsx"],"sourcesContent":["import { integer } from \"aws-sdk/clients/cloudfront\";\r\nimport React, { FunctionComponent, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport UserModel from \"../../models/user-model\";\r\nimport \"./style.scss\";\r\n\r\ntype Props = {\r\n  currentUser: UserModel;\r\n};\r\n\r\nconst HomePage1PROJ: FunctionComponent<Props> = ({ currentUser }) => {\r\n  const [virtualBoard, setVirtualBoard] = useState<\r\n    { p: number; d: string[]; ab: string }[][]\r\n  >([\r\n    [\r\n      { p: 1, d: [\"E\", \"ES\", \"S\"], ab: \"bot-right\" },\r\n      { p: 0, d: [\"E\", \"S\", \"W\"], ab: \"bot-right\" },\r\n      { p: 0, d: [\"E\", \"ES\", \"S\", \"SW\", \"W\"], ab: \"\" },\r\n      { p: 0, d: [\"E\", \"S\", \"W\"], ab: \"bot-left\" },\r\n      { p: 0, d: [\"S\", \"SW\", \"W\"], ab: \"bot-left\" },\r\n    ],\r\n    [\r\n      { p: 0, d: [\"N\", \"E\", \"S\"], ab: \"bot-right\" },\r\n      { p: -1, d: [\"N\", \"NE\", \"E\", \"ES\", \"S\", \"SW\", \"W\", \"WN\"], ab: \"diag\" },\r\n      { p: 0, d: [\"N\", \"E\", \"S\", \"W\"], ab: \"cross\" },\r\n      { p: 0, d: [\"N\", \"NE\", \"E\", \"ES\", \"S\", \"SW\", \"W\", \"WN\"], ab: \"diag\" },\r\n      { p: 0, d: [\"N\", \"S\", \"W\"], ab: \"bot-left\" },\r\n    ],\r\n    [\r\n      { p: 0, d: [\"N\", \"NE\", \"E\", \"ES\", \"S\"], ab: \"\" },\r\n      { p: 0, d: [\"N\", \"E\", \"S\", \"W\"], ab: \"cross\" },\r\n      { p: 1, d: [\"N\", \"NE\", \"E\", \"ES\", \"S\", \"SW\", \"W\", \"WN\"], ab: \"\" },\r\n      { p: 0, d: [\"N\", \"E\", \"S\", \"W\"], ab: \"cross\" },\r\n      { p: 0, d: [\"N\", \"S\", \"SW\", \"W\", \"WN\"], ab: \"\" },\r\n    ],\r\n    [\r\n      { p: 0, d: [\"N\", \"E\", \"S\"], ab: \"top-right\" },\r\n      { p: 0, d: [\"N\", \"NE\", \"E\", \"ES\", \"S\", \"SW\", \"W\", \"WN\"], ab: \"diag\" },\r\n      { p: 0, d: [\"N\", \"E\", \"S\", \"W\"], ab: \"cross\" },\r\n      { p: 0, d: [\"N\", \"NE\", \"E\", \"ES\", \"S\", \"SW\", \"W\", \"WN\"], ab: \"diag\" },\r\n      { p: 0, d: [\"N\", \"S\", \"W\"], ab: \"top-left\" },\r\n    ],\r\n    [\r\n      { p: 0, d: [\"N\", \"NE\", \"E\"], ab: \"top-right\" },\r\n      { p: 0, d: [\"N\", \"E\", \"W\"], ab: \"top-right\" },\r\n      { p: 0, d: [\"N\", \"NE\", \"E\", \"W\", \"WN\"], ab: \"\" },\r\n      { p: 0, d: [\"N\", \"E\", \"W\"], ab: \"top-left\" },\r\n      { p: 0, d: [\"N\", \"W\", \"WN\"], ab: \"top-left\" },\r\n    ],\r\n  ]);\r\n\r\n  const [P1score, setP1score] = useState<number>(0);\r\n  const [P2score, setP2score] = useState<number>(0);\r\n\r\n  const [MenuOpen, setMenuOpen] = useState<boolean>(true);\r\n\r\n  const [PlayerTurn, setPlayerTurn] = useState<number>(0);\r\n\r\n  const InitGame = () => {\r\n    setMenuOpen(false);\r\n    setPlayerTurn(-1);\r\n  };\r\n\r\n  const NextTurn = () => {\r\n    setPlayerTurn(PlayerTurn * -1);\r\n  };\r\n\r\n  const getListDirectionSelectedPawn = (Pawn: {\r\n    x: number;\r\n    y: number;\r\n    player: number;\r\n  }) => {\r\n    const PlaceDirection: string[] = virtualBoard[Pawn.y][Pawn.x].d;\r\n    if (Pawn.player === -1)\r\n      return PlaceDirection.filter((direction) => !direction.includes(\"S\"));\r\n    else if (Pawn.player === 1)\r\n      return PlaceDirection.filter((direction) => !direction.includes(\"N\"));\r\n    return PlaceDirection;\r\n  };\r\n\r\n  /* \r\n  !plan \r\n\r\n  pion deja selectionné ? \r\n\r\n  non -> \r\n    case click contient un pion ? \r\n    non -> stop\r\n\r\n    case click contient un pion du joueur ? \r\n    non -> stop\r\n\r\n    pion selectionné peut se deplacer ou manger? \r\n    non -> stop\r\n\r\n    select pion + stop\r\n\r\n  oui -> \r\n    \r\n    case click contient un pion ?\r\n    oui -> stop\r\n\r\n    recuperer coordonnée possible du pion selectionné \r\n\r\n    coordonnée possible contient coordonnée case click ?\r\n    non -> unselect pion + stop\r\n    \r\n    deplacement et/ou manger\r\n\r\n    unselect pion\r\n\r\n    pion deplacé peut manger ?\r\n    oui -> select pion + stop\r\n    non -> end turn\r\n  \r\n  */\r\n\r\n  const clickPawn = (element: any) => {\r\n    // span pawn -> case\r\n    let spanPawn = element.target;\r\n    if (spanPawn.classList.contains(\"pawn\")) {\r\n      spanPawn = spanPawn.parentElement;\r\n    }\r\n    console.log(spanPawn);\r\n    // pion deja selectionné ?\r\n    if (PawnSelected) {\r\n      // case click contient un pion ?\r\n      if (spanPawn.children.length !== 0) {\r\n        // unselect pion\r\n        spanPawn.classList.remove(\"pawn-selected\");\r\n        setPawnSelected(false);\r\n        return false;\r\n      }\r\n\r\n      // recuperer coordonnée possible du pion selectionné\r\n      const possibleMove = checkPossibleMove(PawnSelected);\r\n      const possibleEat = checkPossibleEat(PawnSelected);\r\n      if (possibleMove.concat(possibleEat)) return false;\r\n      // coordonnée possible contient coordonnée case click ?\r\n\r\n      // deplacement et/ou manger\r\n\r\n      // unselect pion\r\n\r\n      // pion deplacé peut manger ?\r\n    } else {\r\n      // case click contient un pion ?\r\n      console.log(spanPawn.children.length === 0);\r\n      if (spanPawn.children.length === 0) return false;\r\n\r\n      // case click contient un pion du joueur ?\r\n      console.log(spanPawn.dataset[\"player\"] === PlayerTurn);\r\n      if (spanPawn.dataset[\"player\"] === PlayerTurn) return false;\r\n\r\n      const tempoPawn = {\r\n        x: parseInt(spanPawn.dataset[\"placementX\"]),\r\n        y: parseInt(spanPawn.dataset[\"placementY\"]),\r\n        player: parseInt(spanPawn.dataset[\"player\"]),\r\n      };\r\n\r\n      // pion selectionné peut se deplacer ou manger?\r\n      const possibleMove = checkPossibleMove(tempoPawn);\r\n      console.log(possibleMove);\r\n      const possibleEat = checkPossibleEat(tempoPawn);\r\n      if (possibleMove.concat(possibleEat)) return false;\r\n\r\n      // select pion\r\n      spanPawn.classList.add(\"pawn-selected\");\r\n      setPawnSelected(tempoPawn);\r\n    }\r\n  };\r\n\r\n  const checkPossibleEat = (Pawn: {\r\n    x: number;\r\n    y: number;\r\n    player: number;\r\n  }): string[] => {\r\n    let EatPossbile: string[] = [];\r\n    if (\r\n      virtualBoard[Pawn.y - 1][Pawn.x] &&\r\n      virtualBoard[Pawn.y - 1][Pawn.x].p === Pawn.player * -1\r\n    ) {\r\n      if (virtualBoard[Pawn.y - 1][Pawn.x].d.includes(\"N\")) {\r\n        if (\r\n          virtualBoard[Pawn.y - 2][Pawn.x] &&\r\n          virtualBoard[Pawn.y - 2][Pawn.x].p === 0\r\n        ) {\r\n          EatPossbile.push(\"N\");\r\n        }\r\n      }\r\n    }\r\n    if (\r\n      virtualBoard[Pawn.y - 1][Pawn.x + 1] &&\r\n      virtualBoard[Pawn.y - 1][Pawn.x + 1].p === Pawn.player * -1\r\n    ) {\r\n      if (virtualBoard[Pawn.y - 1][Pawn.x + 1].d.includes(\"NE\")) {\r\n        if (\r\n          virtualBoard[Pawn.y - 2][Pawn.x + 2] &&\r\n          virtualBoard[Pawn.y - 2][Pawn.x + 2].p === 0\r\n        ) {\r\n          EatPossbile.push(\"NE\");\r\n        }\r\n      }\r\n    }\r\n    if (\r\n      virtualBoard[Pawn.y][Pawn.x + 1] &&\r\n      virtualBoard[Pawn.y][Pawn.x + 1].p === Pawn.player * -1\r\n    ) {\r\n      if (virtualBoard[Pawn.y][Pawn.x + 1].d.includes(\"E\")) {\r\n        if (\r\n          virtualBoard[Pawn.y][Pawn.x + 2] &&\r\n          virtualBoard[Pawn.y][Pawn.x + 2].p === 0\r\n        ) {\r\n          EatPossbile.push(\"E\");\r\n        }\r\n      }\r\n    }\r\n    if (\r\n      virtualBoard[Pawn.y + 1][Pawn.x + 1] &&\r\n      virtualBoard[Pawn.y + 1][Pawn.x + 1].p === Pawn.player * -1\r\n    ) {\r\n      if (virtualBoard[Pawn.y + 1][Pawn.x + 1].d.includes(\"ES\")) {\r\n        if (\r\n          virtualBoard[Pawn.y + 2][Pawn.x + 2] &&\r\n          virtualBoard[Pawn.y + 2][Pawn.x + 2].p === 0\r\n        ) {\r\n          EatPossbile.push(\"ES\");\r\n        }\r\n      }\r\n    }\r\n    if (\r\n      virtualBoard[Pawn.y + 1][Pawn.x] &&\r\n      virtualBoard[Pawn.y + 1][Pawn.x].p === Pawn.player * -1\r\n    ) {\r\n      if (virtualBoard[Pawn.y + 1][Pawn.x].d.includes(\"S\")) {\r\n        if (\r\n          virtualBoard[Pawn.y + 2][Pawn.x] &&\r\n          virtualBoard[Pawn.y + 2][Pawn.x].p === 0\r\n        ) {\r\n          EatPossbile.push(\"S\");\r\n        }\r\n      }\r\n    }\r\n    if (\r\n      virtualBoard[Pawn.y + 1][Pawn.x - 1] &&\r\n      virtualBoard[Pawn.y + 1][Pawn.x - 1].p === Pawn.player * -1\r\n    ) {\r\n      if (virtualBoard[Pawn.y + 1][Pawn.x - 1].d.includes(\"SW\")) {\r\n        if (\r\n          virtualBoard[Pawn.y + 2][Pawn.x - 2] &&\r\n          virtualBoard[Pawn.y + 2][Pawn.y - 2].p === 0\r\n        ) {\r\n          EatPossbile.push(\"SW\");\r\n        }\r\n      }\r\n    }\r\n    if (\r\n      virtualBoard[Pawn.y][Pawn.x - 1] &&\r\n      virtualBoard[Pawn.y][Pawn.x - 1].p === Pawn.player * -1\r\n    ) {\r\n      if (virtualBoard[Pawn.y][Pawn.x - 1].d.includes(\"W\")) {\r\n        if (\r\n          virtualBoard[Pawn.y][Pawn.x - 2] &&\r\n          virtualBoard[Pawn.y][Pawn.x - 2].p === 0\r\n        ) {\r\n          EatPossbile.push(\"W\");\r\n        }\r\n      }\r\n    }\r\n    if (\r\n      virtualBoard[Pawn.y - 1][Pawn.x - 1] &&\r\n      virtualBoard[Pawn.y - 1][Pawn.x - 1].p === Pawn.player * -1\r\n    ) {\r\n      if (virtualBoard[Pawn.y - 1][Pawn.x - 1].d.includes(\"WN\")) {\r\n        if (\r\n          virtualBoard[Pawn.y - 2][Pawn.x - 2] &&\r\n          virtualBoard[Pawn.y - 2][Pawn.x - 2].p === 0\r\n        ) {\r\n          EatPossbile.push(\"WN\");\r\n        }\r\n      }\r\n    }\r\n    return EatPossbile;\r\n  };\r\n\r\n  const checkPossibleMove = (Pawn: {\r\n    x: number;\r\n    y: number;\r\n    player: number;\r\n  }): string[] => {\r\n    let MovePossible: string[] = [];\r\n    let listDirection = getListDirectionSelectedPawn(Pawn);\r\n    if (listDirection && listDirection.length > 0) {\r\n      listDirection.forEach((element: string) => {\r\n        switch (element) {\r\n          case \"N\":\r\n            if (\r\n              virtualBoard[Pawn.y - 1][Pawn.x] &&\r\n              virtualBoard[Pawn.y - 1][Pawn.x].p === 0\r\n            ) {\r\n              MovePossible.push(element);\r\n            }\r\n            break;\r\n          case \"NE\":\r\n            if (\r\n              virtualBoard[Pawn.y - 1][Pawn.x + 1] &&\r\n              virtualBoard[Pawn.y - 1][Pawn.x + 1].p === 0\r\n            ) {\r\n              MovePossible.push(element);\r\n            }\r\n            break;\r\n          case \"E\":\r\n            if (\r\n              virtualBoard[Pawn.y][Pawn.x + 1] &&\r\n              virtualBoard[Pawn.y][Pawn.x + 1].p === 0\r\n            ) {\r\n              MovePossible.push(element);\r\n            }\r\n            break;\r\n          case \"ES\":\r\n            if (\r\n              virtualBoard[Pawn.y + 1][Pawn.x + 1] &&\r\n              virtualBoard[Pawn.y + 1][Pawn.x + 1].p === 0\r\n            ) {\r\n              MovePossible.push(element);\r\n            }\r\n            break;\r\n          case \"S\":\r\n            if (\r\n              virtualBoard[Pawn.y + 1][Pawn.x] &&\r\n              virtualBoard[Pawn.y + 1][Pawn.x].p === 0\r\n            ) {\r\n              MovePossible.push(element);\r\n            }\r\n            break;\r\n          case \"SW\":\r\n            if (\r\n              virtualBoard[Pawn.y + 1][Pawn.x - 1] &&\r\n              virtualBoard[Pawn.y + 1][Pawn.y - 1].p === 0\r\n            ) {\r\n              MovePossible.push(element);\r\n            }\r\n            break;\r\n          case \"W\":\r\n            if (\r\n              virtualBoard[Pawn.y][Pawn.x - 1] &&\r\n              virtualBoard[Pawn.y][Pawn.x - 1].p === 0\r\n            ) {\r\n              MovePossible.push(element);\r\n            }\r\n            break;\r\n          case \"WN\":\r\n            if (\r\n              virtualBoard[Pawn.y - 1][Pawn.x - 1] &&\r\n              virtualBoard[Pawn.y - 1][Pawn.x - 1].p === 0\r\n            ) {\r\n              MovePossible.push(element);\r\n            }\r\n            break;\r\n        }\r\n      });\r\n    }\r\n    return MovePossible;\r\n  };\r\n\r\n  const checkValideMove = (\r\n    place: { x: number; y: number },\r\n    target: { x: number; y: number },\r\n    possibleMove: string[]\r\n  ) => {\r\n    console.log(\"place\", place);\r\n    console.log(\"target\", target);\r\n    console.log(\"possibleMove\", possibleMove);\r\n  };\r\n\r\n  const checkCapturePossible = () => {\r\n    let finalMove: string[] = [];\r\n\r\n    return finalMove;\r\n  };\r\n\r\n  const [PawnSelected, setPawnSelected] = useState<\r\n    { x: integer; y: integer; player: integer } | false\r\n  >(false);\r\n\r\n  const PawnClick = (element: any) => {\r\n    let spanPawn = element.target;\r\n    if (spanPawn.classList.contains(\"pawn\")) {\r\n      spanPawn = spanPawn.parentElement;\r\n    }\r\n    if (spanPawn.dataset[\"player\"] == PlayerTurn) {\r\n      if (PawnSelected) {\r\n        if (spanPawn.classList.contains(\"pawn-selected\")) {\r\n          setPawnSelected(false);\r\n          spanPawn.classList.remove(\"pawn-selected\");\r\n        } else {\r\n          const PossibleMove: string[] = checkPossibleMove(PawnSelected);\r\n          const capturepossible: string[] = checkCapturePossible();\r\n          const placeX: number = parseInt(spanPawn.dataset[\"placementX\"]);\r\n          const placeY: number = parseInt(spanPawn.dataset[\"placementY\"]);\r\n          checkValideMove(\r\n            { x: PawnSelected.x, y: PawnSelected.y },\r\n            { x: placeX, y: placeY },\r\n            PossibleMove\r\n          );\r\n        }\r\n      } else {\r\n        if (spanPawn.dataset[\"player\"] != 0) {\r\n          const player: number = parseInt(spanPawn.dataset[\"player\"]);\r\n          const placeX: number = parseInt(spanPawn.dataset[\"placementX\"]);\r\n          const placeY: number = parseInt(spanPawn.dataset[\"placementY\"]);\r\n          setPawnSelected({\r\n            x: placeX,\r\n            y: placeY,\r\n            player: player,\r\n          });\r\n          spanPawn.classList.add(\"pawn-selected\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`main p20 flex-col relative flex-end-align g25`}>\r\n      <div className=\"flex-col g25 w100\">\r\n        <h2 className=\"m0\">\r\n          Projects : 1PROJ\r\n          <i className=\"material-icons ml25\" onClick={() => setMenuOpen(true)}>\r\n            settings\r\n          </i>\r\n        </h2>\r\n        <h1\r\n          className={`big-dark-container scores flex-center g50  playerTurn${PlayerTurn}`}\r\n        >\r\n          <span className=\"blue\">{P1score}</span>\r\n          <span>-</span>\r\n          <span className=\"red\">{P2score}</span>\r\n        </h1>\r\n        <div\r\n          className={`board-container flex-col flex-center g25 big-dark-container `}\r\n        >\r\n          <div className={`board playerTurn${PlayerTurn}`}>\r\n            {virtualBoard.map((e, ei) =>\r\n              e.map((f, fi) => (\r\n                <span\r\n                  key={\"case-\" + ei + \"-\" + fi}\r\n                  className={\"setting-line \" + f.ab}\r\n                >\r\n                  <span\r\n                    className={\"case flex-center\"}\r\n                    data-placement-y={ei}\r\n                    data-placement-x={fi}\r\n                    data-player={f.p}\r\n                    onClick={(e) => clickPawn(e)}\r\n                  >\r\n                    {f.p !== 0 ? (\r\n                      <span\r\n                        onClick={(e) => clickPawn(e)}\r\n                        className={`pawn flex-center ${\r\n                          f.p === 1 ? \"red-player\" : \"blue-player\"\r\n                        }`}\r\n                      ></span>\r\n                    ) : null}\r\n                  </span>\r\n                </span>\r\n              ))\r\n            )}\r\n          </div>\r\n          {MenuOpen ? (\r\n            <div className=\"menu-pop-up absolute zi5 flex-center\">\r\n              <div className=\"small-normal-container\">\r\n                <h2 className=\"m0 mb25 blue txt-center\">Game Menu</h2>\r\n                <div className=\"flex-rox flex-between g25\">\r\n                  <div className=\"cta cta-blue\" onClick={() => InitGame()}>\r\n                    <span>{PlayerTurn === 0 ? \"START\" : \"RESUME\"}</span>\r\n                  </div>\r\n\r\n                  <Link className=\"cta cta-red\" to={\"/\"}>\r\n                    <span>BACK</span>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage1PROJ;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}