{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Max\\\\Documents\\\\autre\\\\max_proj\\\\5CPOM\\\\front-service\\\\src\\\\components\\\\user-login\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport Cookies from \"js-cookie\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\n//? assets\nimport \"./style.scss\";\n\n//? API\nimport logIn from \"../../api-request/user/log-in\";\n\n//? helpers\nimport isHttpStatusValid from \"../../helpers/check-status\";\nimport displayStatusRequest from \"../../helpers/display-status-request\";\nimport Logo from \"../logo-grid\";\n\n//? components\n\n//? pages\n\n//? models\n\n//? mocks\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserHeader = _ref => {\n  _s();\n  let {\n    ValidLogIn\n  } = _ref;\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const signIn = (email, password) => {\n    logIn(email, password).then(result => {\n      if (isHttpStatusValid(result.status)) {\n        Cookies.set(\"token\", result.response.token, {\n          expires: 1\n        });\n        ValidLogIn();\n      } else displayStatusRequest(\"error \" + result.status + \" : \" + result.response.message, true);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-login flex-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bloc w20 big-dark-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-col flex-start-justify g25 flex-center mb25\",\n        children: [/*#__PURE__*/_jsxDEV(Logo, {\n          sizeblocs: 1,\n          hover: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-center  flex-start-align flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"m0 blue\",\n            children: \"5CPOM \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"m0\",\n            children: \"Log In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"flex-col g15 flex-center w100\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form flex-col w100\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title mt0\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input\",\n            type: \"text\",\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input\",\n            type: \"password\",\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button flex-col w100\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/recover\",\n            className: \"forget mb25\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Foreget password ?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cta mlrauto cta-blue\",\n            onClick: () => signIn(email, password),\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(UserHeader, \"3B3pqDcVnkT+z/sPK6Z9zQsLP+s=\");\n_c = UserHeader;\nexport default UserHeader;\nvar _c;\n$RefreshReg$(_c, \"UserHeader\");","map":{"version":3,"names":["Cookies","React","useState","Link","logIn","isHttpStatusValid","displayStatusRequest","Logo","jsxDEV","_jsxDEV","UserHeader","_ref","_s","ValidLogIn","email","setEmail","password","setPassword","signIn","then","result","status","set","response","token","expires","message","className","children","sizeblocs","hover","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","e","target","value","to","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Max/Documents/autre/max_proj/5CPOM/front-service/src/components/user-login/index.tsx"],"sourcesContent":["import Cookies from \"js-cookie\";\r\nimport React, { FunctionComponent, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n//? assets\r\nimport \"./style.scss\";\r\n\r\n//? API\r\nimport logIn from \"../../api-request/user/log-in\";\r\n\r\n//? helpers\r\nimport isHttpStatusValid from \"../../helpers/check-status\";\r\nimport displayStatusRequest from \"../../helpers/display-status-request\";\r\nimport Logo from \"../logo-grid\";\r\n\r\n//? components\r\n\r\n//? pages\r\n\r\n//? models\r\n\r\n//? mocks\r\n\r\ntype Props = {\r\n  ValidLogIn: Function;\r\n};\r\nconst UserHeader: FunctionComponent<Props> = ({ ValidLogIn }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const signIn = (email: string, password: string) => {\r\n    logIn(email, password).then((result) => {\r\n      if (isHttpStatusValid(result.status)) {\r\n        Cookies.set(\"token\", result.response.token, { expires: 1 });\r\n        ValidLogIn();\r\n      } else\r\n        displayStatusRequest(\r\n          \"error \" + result.status + \" : \" + result.response.message,\r\n          true\r\n        );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"user-login flex-center\">\r\n      <div className=\"bloc w20 big-dark-container\">\r\n        <div className=\"flex-col flex-start-justify g25 flex-center mb25\">\r\n          <Logo sizeblocs={1} hover={false} />\r\n          <div className=\"flex-center  flex-start-align flex-col\">\r\n            <h2 className=\"m0 blue\">5CPOM </h2>\r\n            <h2 className=\"m0\">Log In</h2>\r\n          </div>\r\n        </div>\r\n\r\n        <form className=\"flex-col g15 flex-center w100\">\r\n          <div className=\"form flex-col w100\">\r\n            <p className=\"title mt0\">Email</p>\r\n            <input\r\n              className=\"input\"\r\n              type=\"text\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <p className=\"title\">Password</p>\r\n            <input\r\n              className=\"input\"\r\n              type=\"password\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"button flex-col w100\">\r\n            <Link to=\"/recover\" className=\"forget mb25\">\r\n              <span>Foreget password ?</span>\r\n            </Link>\r\n            <div\r\n              className=\"cta mlrauto cta-blue\"\r\n              onClick={() => signIn(email, password)}\r\n            >\r\n              Sign In\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default UserHeader;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}